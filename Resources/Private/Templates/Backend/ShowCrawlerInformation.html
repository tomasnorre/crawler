<f:layout name="BackendModule" />

<f:section name="Headline">
	<f:if condition="{noConfigurationSelected}">
		<f:then>
			<f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.noConfigSelected" />
		</f:then>
		<f:else>
			<f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.configuration" />
		</f:else>
	</f:if>
</f:section>

<f:section name="Content">
	<input type="hidden" name="id" value="{currentPageId}">

	<f:if condition="{submitCrawlUrls}">
		<f:then>
			<p>
				{amountOfUrls} <f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.submitted" />
			</p>
			<br><br>
			<input type="submit" class="btn btn-default" name="_" value="{f:translate(key: 'LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.continue')}">
			<input type="submit" class="btn btn-primary" onclick="<f:format.raw>this.form.elements['SET[crawlaction]'].value='log';</f:format.raw>" value="{f:translate(key: 'LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.continueinlog')}">
		</f:then>
		<f:else>
			<table class="table">
				<thead>
				<tr>
					<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.configurations" /></th>
					<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.depth" /></th>
					<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.scheduled" /></th>
				</tr>
				</thead>
				<tbody>
				<tr>
					<td>{selectors.configurations -> f:format.raw()}</td>
					<td>{selectors.depth -> f:format.raw()}</td>
					<td>{selectors.scheduled -> f:format.raw()}</td>
				</tr>
				</tbody>
			</table>
			<input type="submit" class="btn btn-primary" name="_update" value="{f:translate(key: 'LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.triggerUpdate')}">
			<input type="submit" class="btn btn-default" name="_crawl" value="{f:translate(key: 'LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.triggerCrawl')}">
			<input type="submit" class="btn btn-default" name="_download" value="{f:translate(key: 'LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.triggerDownload')}">
			<br><br>
			<p>
				<f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.count" />: {amountOfUrls}<br>
				<f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.curtime" />: <f:format.date format="H:i:s">now</f:format.date>
			</p>
			<f:if condition="{noConfigurationSelected} == false">
				<table class="table table-striped table-hover">
					<thead>
					<tr>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.pagetitle" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.key" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.parametercfg" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.values" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.urls" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.options" /></th>
						<th><f:translate key="LLL:EXT:crawler/Resources/Private/Language/locallang.xml:labels.parameters" /></th>
					</tr>
					</thead>
					<tbody>
					{code -> f:format.raw()}
					</tbody>
				</table>
			</f:if>
		</f:else>
	</f:if>
</f:section>

